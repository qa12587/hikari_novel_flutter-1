name: Auto Build Hikari (org.mewx.wenku8 - 仓库适配版)
on:
  push:
    branches: [ main ]  # 推代码自动打包
  workflow_dispatch:    # 手动触发（仓库Actions页面可运行）
  schedule:
    - cron: '0 0 * * *' # 每天UTC0点（国内早8点）定时打包

jobs:
  build-android:
    runs-on: ubuntu-latest
    timeout-minutes: 30
    permissions:
      contents: write  # 解决仓库访问权限问题
    steps:
      - name: 拉取仓库代码（适配LFS大文件）
        uses: actions/checkout@v4
        with:
          repository: qa12587/hikari_novel_flutter-1
          fetch-depth: 1
          lfs: true  # 兼容仓库可能的图标、资源等大文件

      - name: 配置 Flutter 3.38.5（匹配仓库环境）
        uses: subosito/flutter-action@v2
        with:
          flutter-version: '3.
